---
name: Django-ecommerce

on:
    push:
        branches:
            - main
    pull_request:
        branches:
            - main
jobs:
    test:
        runs-on:
            - ubuntu-latest

        steps: 
        - name: setup python
          uses: actions/checkout@v4
        - name: install dependencies
          run:
              python -m pip install -r requirements.txt
        - name: Set up Python
          uses: actions/setup-python@v5
          with:
            python-version: ${{ env.PYTHON_VERSION }}      
        - name: Run migrations
          run: python manage.py migrate

        - name: Run tests
          run: python manage.py test     